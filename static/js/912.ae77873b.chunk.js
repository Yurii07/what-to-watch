"use strict";(self.webpackChunkwhat_to_watch=self.webpackChunkwhat_to_watch||[]).push([[912],{6633:function(e,n){n.Z={baseUrl:"https://api.themoviedb.org/3/",apiKey:"6442682edab45e7b1177e201f01cc56d",originalImage:function(e){return"https://image.tmdb.org/t/p/original/".concat(e)},w500Image:function(e){return"https://image.tmdb.org/t/p/w500/".concat(e)}}},3733:function(e,n,t){t.d(n,{W3:function(){return p},ZP:function(){return h},q8:function(){return f},Oq:function(){return m}});var r=t(4165),a=t(5861),c=t(1413),s=t(4569),i=t.n(s),o=t(4245),u=t(6633),l=i().create({baseURL:u.Z.baseUrl,headers:{"Content-Type":"application/json"},paramsSerializer:function(e){return o.stringify((0,c.Z)((0,c.Z)({},e),{},{api_key:u.Z.apiKey}))}});l.interceptors.request.use(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),l.interceptors.response.use((function(e){return e&&e.data?e.data:e}),(function(e){throw e}));var d=l,p={movie:"movie",tv:"tv"},f={upcoming:"upcoming",popular:"popular",top_rated:"top_rated"},m={popular:"popular",top_rated:"top_rated",on_the_air:"on_the_air"},h={getMoviesList:function(e,n){var t="movie/"+f[e];return d.get(t,n)},getTvList:function(e,n){var t="tv/"+m[e];return d.get(t,n)},getVideos:function(e,n){var t=p[e]+"/"+n+"/videos";return d.get(t,{params:{}})},search:function(e,n){var t="search/"+p[e];return d.get(t,n)},detail:function(e,n,t){var r=p[e]+"/"+n;return d.get(r,t)},credits:function(e,n){var t=p[e]+"/"+n+"/credits";return d.get(t,{params:{}})},similar:function(e,n){var t=p[e]+"/"+n+"/similar";return d.get(t,{params:{}})}}},5678:function(e,n,t){t.d(n,{f:function(){return c},Z:function(){return s}});t(2791);var r=t(184),a=function(e){return(0,r.jsx)("button",{className:"btn ".concat(e.className),onClick:e.onClick?function(){return e.onClick()}:null,children:e.children})},c=function(e){return(0,r.jsx)(a,{className:"btn-outline ".concat(e.className),onClick:e.onClick?function(){return e.onClick()}:null,children:e.children})},s=a},6046:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(2791),a=t(6871),c=t(3504),s=t(8522),i=t(9535),o=t(365),u=t(5704),l=t(4956);var d=t.p+"static/media/logo.5787551b8de42aef368c379572555ada.svg",p=t(184),f=[{display:"Home",path:"/"},{display:"Movies",path:"/movie"},{display:"TV Series",path:"/tv"}],m=function(){var e=(0,a.TH)().pathname,n=(0,s.I)().user,t=(0,r.useRef)(null),m=(0,u.a)().isAuth,h=f.findIndex((function(n){return n.path===e})),v=(0,l.T)();(0,r.useEffect)((function(){var e=function(){document.body.scrollTop>100||document.documentElement.scrollTop>100?t.current.classList.add("shrink"):t.current.classList.remove("shrink")};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]);var g=(0,o.v0)();return(0,p.jsx)("div",{ref:t,className:"header",children:(0,p.jsxs)("div",{className:"header__wrap container",children:[(0,p.jsx)("div",{className:"logo",children:(0,p.jsxs)(c.rU,{to:"/",children:["  ",(0,p.jsx)("img",{src:d,alt:"",className:"logo"})]})}),m?(0,p.jsxs)("ul",{className:"header__nav",children:[f.map((function(e,n){return(0,p.jsx)("li",{className:"".concat(n===h?"active":""),children:(0,p.jsx)(c.rU,{to:e.path,children:e.display})},n)})),(0,p.jsxs)("button",{className:"log-out",onClick:function(){(0,o.w7)(g).then((function(){v((0,i.kX)())})).catch((function(e){console.log(e,"error")}))},children:["log out from ",(0,p.jsx)("br",{}),null===n||void 0===n?void 0:n.email," "]})]}):(0,p.jsxs)("div",{children:[(0,p.jsx)(c.rU,{className:"link",to:"/login",children:"login"})," ",(0,p.jsx)("br",{}),(0,p.jsx)(c.rU,{className:"link",to:"/register",children:"register"})]})]})})}},9994:function(e,n,t){t.d(n,{Z:function(){return o}});t(2791);var r=t(3504),a=t(5678),c=t(3733),s=t(6633),i=t(184),o=function(e){var n=e.item,t="/"+c.W3[e.category]+"/"+n.id,o=s.Z.w500Image(n.poster_path||n.backdrop_path);return(0,i.jsxs)(r.rU,{to:t,children:[(0,i.jsx)("div",{className:"movie-card",style:{backgroundImage:"url(".concat(o,")")},children:(0,i.jsx)(a.Z,{children:(0,i.jsx)("i",{className:"bx bx-play",children:"Play"})})}),(0,i.jsx)("h3",{children:n.title||n.name})]})}},8912:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(2791),a=t(6871),c=t(8496),s=t(184),i=function(e){return(0,s.jsx)("div",{className:"page-header",style:{backgroundImage:"url(".concat(c,")")},children:(0,s.jsx)("h2",{children:e.children})})},o=t(6046),u=t(3733),l=t(2982),d=t(4165),p=t(5861),f=t(885),m=t(9994),h=t(5678),v=function(e){return(0,s.jsx)("div",{className:"webdesigntuts-workshop",children:(0,s.jsx)("input",{type:e.type,placeholder:e.placeholder,value:e.value,onChange:e.onChange?function(n){return e.onChange(n)}:null})})},g=function(e){var n=(0,a.s0)(),t=(0,r.useState)(e.keyword?e.keyword:""),c=(0,f.Z)(t,2),i=c[0],o=c[1],l=(0,r.useCallback)((function(){i.trim().length>0&&n("/".concat(u.W3[e.category],"/search/").concat(i))}),[i,e.category,n]);return(0,r.useEffect)((function(){var e=function(e){e.preventDefault(),13===e.keyCode&&(l(),o(""))};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[i,l]),(0,s.jsx)("div",{className:"movie-search",children:(0,s.jsx)(v,{type:"text",placeholder:"What are you looking for?",value:i,onChange:function(e){return o(e.target.value)}})})},x=function(e){var n=(0,r.useState)([]),t=(0,f.Z)(n,2),c=t[0],i=t[1],o=(0,r.useState)(1),v=(0,f.Z)(o,2),x=v[0],y=v[1],j=(0,r.useState)(0),k=(0,f.Z)(j,2),b=k[0],Z=k[1],w=(0,a.UO)().keyword;(0,r.useEffect)((function(){var n=function(){var n=(0,p.Z)((0,d.Z)().mark((function n(){var t,r,a;return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=null,void 0!==w){n.next=15;break}r={},n.t0=e.category,n.next=n.t0===u.W3.movie?6:10;break;case 6:return n.next=8,u.ZP.getMoviesList(u.q8.upcoming,{params:r});case 8:return t=n.sent,n.abrupt("break",13);case 10:return n.next=12,u.ZP.getTvList(u.Oq.popular,{params:r});case 12:t=n.sent;case 13:n.next=19;break;case 15:return a={query:w},n.next=18,u.ZP.search(e.category,{params:a});case 18:t=n.sent;case 19:i(t.results),Z(t.total_pages);case 21:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[e.category,w]);var N=function(){var n=(0,p.Z)((0,d.Z)().mark((function n(){var t,r,a;return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=null,void 0!==w){n.next=15;break}r={page:x+1},n.t0=e.category,n.next=n.t0===u.W3.movie?6:10;break;case 6:return n.next=8,u.ZP.getMoviesList(u.q8.upcoming,{params:r});case 8:return t=n.sent,n.abrupt("break",13);case 10:return n.next=12,u.ZP.getTvList(u.Oq.popular,{params:r});case 12:t=n.sent;case 13:n.next=19;break;case 15:return a={page:x+1,query:w},n.next=18,u.ZP.search(e.category,{params:a});case 18:t=n.sent;case 19:i([].concat((0,l.Z)(c),(0,l.Z)(t.results))),y(x+1);case 21:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g,{category:e.category,keyword:w}),(0,s.jsx)("div",{className:"movie-grid",children:c.map((function(n,t){return(0,s.jsx)(m.Z,{category:e.category,item:n},t)}))}),x<b?(0,s.jsx)("div",{className:"movie-grid__loadmore",children:(0,s.jsx)(h.f,{className:"small",onClick:N,children:"Load more"})}):null]})},y=function(){var e=(0,a.UO)().category;return console.log("\ud83d\udd25 ~ file: Catalog.jsx ~ line 12 ~ Catalog ~ category",e),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{}),(0,s.jsx)(i,{children:e===u.W3.movie?"Movies":"TV Series"}),(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"section mb-3",children:(0,s.jsx)(x,{category:e})})})]})}},8496:function(e,n,t){e.exports=t.p+"static/media/bg.b25a426713c58f98bde3.jpg"}}]);
//# sourceMappingURL=912.ae77873b.chunk.js.map