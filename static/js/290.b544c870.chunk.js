"use strict";(self.webpackChunkwhat_to_watch=self.webpackChunkwhat_to_watch||[]).push([[290],{6633:function(e,t){t.Z={baseUrl:"https://api.themoviedb.org/3/",apiKey:"6442682edab45e7b1177e201f01cc56d",originalImage:function(e){return"https://image.tmdb.org/t/p/original/".concat(e)},w500Image:function(e){return"https://image.tmdb.org/t/p/w500/".concat(e)}}},3733:function(e,t,a){a.d(t,{W3:function(){return d},ZP:function(){return h},q8:function(){return m},Oq:function(){return v}});var n=a(4165),r=a(5861),i=a(1413),s=a(4569),o=a.n(s),c=a(4245),u=a(6633),l=o().create({baseURL:u.Z.baseUrl,headers:{"Content-Type":"application/json"},paramsSerializer:function(e){return c.stringify((0,i.Z)((0,i.Z)({},e),{},{api_key:u.Z.apiKey}))}});l.interceptors.request.use(function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l.interceptors.response.use((function(e){return e&&e.data?e.data:e}),(function(e){throw e}));var p=l,d={movie:"movie",tv:"tv"},m={upcoming:"upcoming",popular:"popular",top_rated:"top_rated"},v={popular:"popular",top_rated:"top_rated",on_the_air:"on_the_air"},h={getMoviesList:function(e,t){var a="movie/"+m[e];return p.get(a,t)},getTvList:function(e,t){var a="tv/"+v[e];return p.get(a,t)},getVideos:function(e,t){var a=d[e]+"/"+t+"/videos";return p.get(a,{params:{}})},search:function(e,t){var a="search/"+d[e];return p.get(a,t)},detail:function(e,t,a){var n=d[e]+"/"+t;return p.get(n,a)},credits:function(e,t){var a=d[e]+"/"+t+"/credits";return p.get(a,{params:{}})},similar:function(e,t){var a=d[e]+"/"+t+"/similar";return p.get(a,{params:{}})}}},5678:function(e,t,a){a.d(t,{f:function(){return i},Z:function(){return s}});a(2791);var n=a(184),r=function(e){return(0,n.jsx)("button",{className:"btn ".concat(e.className),onClick:e.onClick?function(){return e.onClick()}:null,children:e.children})},i=function(e){return(0,n.jsx)(r,{className:"btn-outline ".concat(e.className),onClick:e.onClick?function(){return e.onClick()}:null,children:e.children})},s=r},6046:function(e,t,a){a.d(t,{Z:function(){return v}});var n=a(2791),r=a(6871),i=a(3504),s=a(8522),o=a(9535),c=a(365),u=a(5704),l=a(4956);var p=a.p+"static/media/logo.5787551b8de42aef368c379572555ada.svg",d=a(184),m=[{display:"Home",path:"/"},{display:"Movies",path:"/movie"},{display:"TV Series",path:"/tv"}],v=function(){var e=(0,r.TH)().pathname,t=(0,s.I)().user,a=(0,n.useRef)(null),v=(0,u.a)().isAuth,h=m.findIndex((function(t){return t.path===e})),f=(0,l.T)();(0,n.useEffect)((function(){var e=function(){document.body.scrollTop>100||document.documentElement.scrollTop>100?a.current.classList.add("shrink"):a.current.classList.remove("shrink")};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]);var y=(0,c.v0)();return(0,d.jsx)("div",{ref:a,className:"header",children:(0,d.jsxs)("div",{className:"header__wrap container",children:[(0,d.jsx)("div",{className:"logo",children:(0,d.jsxs)(i.rU,{to:"/",children:["  ",(0,d.jsx)("img",{src:p,alt:"",className:"logo"})]})}),v?(0,d.jsxs)("ul",{className:"header__nav",children:[m.map((function(e,t){return(0,d.jsx)("li",{className:"".concat(t===h?"active":""),children:(0,d.jsx)(i.rU,{to:e.path,children:e.display})},t)})),(0,d.jsxs)("button",{className:"log-out",onClick:function(){(0,c.w7)(y).then((function(){f((0,o.kX)())})).catch((function(e){console.log(e,"error")}))},children:["log out from ",(0,d.jsx)("br",{}),null===t||void 0===t?void 0:t.email," "]})]}):(0,d.jsxs)("div",{children:[(0,d.jsx)(i.rU,{className:"link",to:"/login",children:"login"})," ",(0,d.jsx)("br",{}),(0,d.jsx)(i.rU,{className:"link",to:"/register",children:"register"})]})]})})}},9994:function(e,t,a){a.d(t,{Z:function(){return c}});a(2791);var n=a(3504),r=a(5678),i=a(3733),s=a(6633),o=a(184),c=function(e){var t=e.item,a="/"+i.W3[e.category]+"/"+t.id,c=s.Z.w500Image(t.poster_path||t.backdrop_path);return(0,o.jsxs)(n.rU,{to:a,children:[(0,o.jsx)("div",{className:"movie-card",style:{backgroundImage:"url(".concat(c,")")},children:(0,o.jsx)(r.Z,{children:(0,o.jsx)("i",{className:"bx bx-play",children:"Play"})})}),(0,o.jsx)("h3",{children:t.title||t.name})]})}},5703:function(e,t,a){a.d(t,{Z:function(){return d}});var n=a(4165),r=a(5861),i=a(885),s=a(2791),o=a(1808),c=a(4242),u=a(3733),l=a(9994),p=a(184),d=function(e){var t=(0,s.useState)([]),a=(0,i.Z)(t,2),d=a[0],m=a[1];return(0,s.useEffect)((function(){var t=function(){var t=(0,r.Z)((0,n.Z)().mark((function t(){var a,r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null,r={},"similar"===e.type){t.next=15;break}t.t0=e.category,t.next=t.t0===u.W3.movie?6:10;break;case 6:return t.next=8,u.ZP.getMoviesList(e.type,{params:r});case 8:return a=t.sent,t.abrupt("break",13);case 10:return t.next=12,u.ZP.getTvList(e.type,{params:r});case 12:a=t.sent;case 13:t.next=18;break;case 15:return t.next=17,u.ZP.similar(e.category,e.id);case 17:a=t.sent;case 18:m(a.results);case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),(0,p.jsx)("div",{className:"movie-list",children:(0,p.jsx)(o.t,{grabCursor:!0,spaceBetween:10,slidesPerView:"auto",children:d.map((function(t,a){return(0,p.jsx)(c.o,{children:(0,p.jsx)(l.Z,{item:t,category:e.category})},a)}))})})}},9290:function(e,t,a){a.r(t),a.d(t,{default:function(){return T}});var n=a(3504),r=a(4165),i=a(5861),s=a(885),o=a(2791),c=a(8224),u=a(8835),l=a(9394);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p.apply(this,arguments)}var d={run:function(){var e=this,t=e.slides.eq(e.activeIndex),a=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(a=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=(0,l.Y3)((function(){var t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===t)&&e.autoplay.run()}),a)},start:function(){var e=this;return"undefined"===typeof e.autoplay.timeout&&(!e.autoplay.running&&(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),!0))},stop:function(){var e=this;return!!e.autoplay.running&&("undefined"!==typeof e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),!0))},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach((function(e){t.$wrapperEl[0].addEventListener(e,t.autoplay.onTransitionEnd)})):(t.autoplay.paused=!1,t.autoplay.run())))},onVisibilityChange:function(){var e=this,t=(0,u.Me)();"hidden"===t.visibilityState&&e.autoplay.running&&e.autoplay.pause(),"visible"===t.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(e){var t=this;t&&!t.destroyed&&t.$wrapperEl&&e.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach((function(e){t.$wrapperEl[0].removeEventListener(e,t.autoplay.onTransitionEnd)})),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())},onMouseEnter:function(){var e=this;e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause(),["transitionend","webkitTransitionEnd"].forEach((function(t){e.$wrapperEl[0].removeEventListener(t,e.autoplay.onTransitionEnd)}))},onMouseLeave:function(){var e=this;e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,e.autoplay.run())},attachMouseEvents:function(){var e=this;e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",e.autoplay.onMouseEnter),e.$el.on("mouseleave",e.autoplay.onMouseLeave))},detachMouseEvents:function(){var e=this;e.$el.off("mouseenter",e.autoplay.onMouseEnter),e.$el.off("mouseleave",e.autoplay.onMouseLeave)}},m={name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}},create:function(){(0,l.cR)(this,{autoplay:p({},d,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),(0,u.Me)().addEventListener("visibilitychange",e.autoplay.onVisibilityChange),e.autoplay.attachMouseEvents())},beforeTransitionStart:function(e,t,a){e.autoplay.running&&(a||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.detachMouseEvents(),e.autoplay.running&&e.autoplay.stop(),(0,u.Me)().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}},v=a(1808),h=a(4242),f=a(6871),y=a(5678),x=a(184),g=function(e){var t=(0,o.useRef)(null);return(0,x.jsxs)("div",{ref:t,className:"modal__content",children:[e.children,(0,x.jsx)("div",{className:"modal__content__close",onClick:function(){t.current.parentNode.classList.remove("active"),e.onClose&&e.onClose()},children:(0,x.jsx)("i",{className:"bx bx-x",children:"X"})})]})},j=function(e){var t=(0,o.useState)(!1),a=(0,s.Z)(t,2),n=a[0],r=a[1];return(0,o.useEffect)((function(){r(e.active)}),[e.active]),(0,x.jsx)("div",{id:e.id,className:"modal ".concat(n?"active":""),children:e.children})},b=a(3733),_=a(6633),w=function(e){var t=(0,f.s0)(),a=e.item,n=_.Z.originalImage(a.backdrop_path?a.backdrop_path:a.poster_path),s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelector("#modal_".concat(a.id)),e.next=3,b.ZP.getVideos(b.W3.movie,a.id);case 3:(n=e.sent).results.length>0?(i="https://www.youtube.com/embed/"+n.results[0].key,t.querySelector(".modal__content > iframe").setAttribute("src",i)):t.querySelector(".modal__content").innerHTML="No trailer",t.classList.toggle("active");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsx)("div",{className:"hero-slide__item ".concat(e.className),style:{backgroundImage:"url(".concat(n,")")},children:(0,x.jsxs)("div",{className:"hero-slide__item__content container",children:[(0,x.jsxs)("div",{className:"hero-slide__item__content__info",children:[(0,x.jsx)("h2",{className:"title",children:a.title}),(0,x.jsx)("div",{className:"overview",children:a.overview}),(0,x.jsxs)("div",{children:[(0,x.jsx)(y.Z,{className:"btn__small",onClick:function(){return t("/movie/"+a.id)},children:"Watch now"}),(0,x.jsx)(y.f,{onClick:s,children:"Watch trailer"})]})]}),(0,x.jsx)("div",{className:"hero-slide__item__content__poster",children:(0,x.jsx)("img",{src:_.Z.w500Image(a.poster_path),alt:""})})]})})},N=function(e){var t=e.item,a=(0,o.useRef)(null);return(0,x.jsx)(j,{active:!1,id:"modal_".concat(t.id),children:(0,x.jsx)(g,{onClose:function(){return a.current.setAttribute("src","")},children:(0,x.jsx)("iframe",{ref:a,width:"100%",height:"500px",title:"trailer"})})})},Z=function(){c.Z.use([m]);var e=(0,o.useState)([]),t=(0,s.Z)(e,2),a=t[0],n=t[1];return(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={page:1},e.prev=1,e.next=4,b.ZP.getMoviesList(b.q8.popular,{params:t});case 4:a=e.sent,n(a.results.slice(3,6)),console.log(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,x.jsxs)("div",{className:"hero-slide",children:[(0,x.jsx)(v.t,{modules:[m],grabCursor:!0,spaceBetween:0,slidesPerView:1,autoplay:{delay:3e3},children:a.map((function(e,t){return(0,x.jsx)(h.o,{children:function(t){var a=t.isActive;return(0,x.jsx)(w,{item:e,className:"".concat(a?"active":"")})}},t)}))}),a.map((function(e,t){return(0,x.jsx)(N,{item:e},t)}))]})},k=a(6046),E=a(5703),T=function(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(k.Z,{}),(0,x.jsx)(Z,{}),(0,x.jsxs)("div",{className:"container",children:[(0,x.jsxs)("div",{className:"section mb-3",children:[(0,x.jsxs)("div",{className:"section__header mb-2",children:[(0,x.jsx)("h2",{children:"Trending Movies"}),(0,x.jsx)(n.rU,{to:"/movie",children:(0,x.jsx)(y.f,{className:"small",children:"View more"})})]}),(0,x.jsx)(E.Z,{category:b.W3.movie,type:b.q8.popular})]}),(0,x.jsxs)("div",{className:"section mb-3",children:[(0,x.jsxs)("div",{className:"section__header mb-2",children:[(0,x.jsx)("h2",{children:"Top Rated Movies"}),(0,x.jsx)(n.rU,{to:"/movie",children:(0,x.jsx)(y.f,{className:"small",children:"View more"})})]}),(0,x.jsx)(E.Z,{category:b.W3.movie,type:b.q8.top_rated})]}),(0,x.jsxs)("div",{className:"section mb-3",children:[(0,x.jsxs)("div",{className:"section__header mb-2",children:[(0,x.jsx)("h2",{children:"Trending TV"}),(0,x.jsx)(n.rU,{to:"/tv",children:(0,x.jsx)(y.f,{className:"small",children:"View more"})})]}),(0,x.jsx)(E.Z,{category:b.W3.tv,type:b.Oq.popular})]}),(0,x.jsxs)("div",{className:"section mb-3",children:[(0,x.jsxs)("div",{className:"section__header mb-2",children:[(0,x.jsx)("h2",{children:"Top rated TV"}),(0,x.jsx)(n.rU,{to:"/tv",children:(0,x.jsx)(y.f,{className:"small",children:"View more"})})]}),(0,x.jsx)(E.Z,{category:b.W3.tv,type:b.Oq.top_rated})]})]})]})}}}]);
//# sourceMappingURL=290.b544c870.chunk.js.map